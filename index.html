<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Organization Management System</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="container">
    <header>
        <h1>Organization Management System</h1>
        <p class="subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏ —á–µ—Ä–µ–∑ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã</p>
    </header>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="tabs">
        <button class="tab-button active" onclick="showTab('list')">–°–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π</button>
        <button class="tab-button" onclick="showTab('create')">–°–æ–∑–¥–∞—Ç—å</button>
        <button class="tab-button" onclick="showTab('manage')">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</button>
        <button class="tab-button" onclick="showTab('stats')">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
    </nav>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notification" class="notification hidden"></div>

    <!-- –í–∫–ª–∞–¥–∫–∞: –°–ø–∏—Å–æ–∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π -->
    <div id="list-tab" class="tab-content active">
        <div class="card">
            <h2>–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫</h2>
            <div class="filters">
                <div class="filter-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                    <input type="text" id="filter-name" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏">
                </div>
                <div class="filter-group">
                    <label>–¢–∏–ø:</label>
                    <select id="filter-type">
                        <option value="">–í—Å–µ —Ç–∏–ø—ã</option>
                        <option value="PUBLIC">PUBLIC</option>
                        <option value="TRUST">TRUST</option>
                        <option value="PRIVATE_LIMITED_COMPANY">PRIVATE LIMITED COMPANY</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label>–ú–∏–Ω. —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:</label>
                    <input type="number" id="filter-employees-min" placeholder="–û—Ç">
                </div>
                <div class="filter-group">
                    <label>–ú–∞–∫—Å. —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤:</label>
                    <input type="number" id="filter-employees-max" placeholder="–î–æ">
                </div>
                <button class="btn btn-primary" onclick="loadOrganizations()">üîç –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="clearFilters()">‚úñÔ∏è –°–±—Ä–æ—Å–∏—Ç—å</button>
            </div>

            <div class="sort-controls">
                <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                <select id="sort-field">
                    <option value="name">–ü–æ –∏–º–µ–Ω–∏</option>
                    <option value="employeesCount">–ü–æ –∫–æ–ª-–≤—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</option>
                    <option value="annualTurnover">–ü–æ –æ–±–æ—Ä–æ—Ç—É</option>
                    <option value="creationDate">–ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è</option>
                </select>
                <select id="sort-direction">
                    <option value="asc">‚Üë –ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é</option>
                    <option value="desc">‚Üì –ü–æ —É–±—ã–≤–∞–Ω–∏—é</option>
                </select>
            </div>
        </div>

        <div class="card">
            <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
            <div id="loading" class="loading hidden">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
            <div id="organizations-table"></div>

            <div class="pagination">
                <button class="btn btn-secondary" onclick="previousPage()" id="prev-btn">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è</button>
                <span id="page-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 1</span>
                <button class="btn btn-secondary" onclick="nextPage()" id="next-btn">–°–ª–µ–¥—É—é—â–∞—è ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞: –°–æ–∑–¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é -->
    <div id="create-tab" class="tab-content">
        <div class="card">
            <h2>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é</h2>
            <form id="create-form" onsubmit="createOrganization(event)">
                <div class="form-group">
                    <label>–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" name="name" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X *</label>
                        <input type="number" step="any" name="coordinatesX" required>
                    </div>
                    <div class="form-group">
                        <label>–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y * (–º–∞–∫—Å. 402)</label>
                        <input type="number" name="coordinatesY" max="402" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>–ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" name="fullName" maxlength="1347">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ *</label>
                        <input type="number" name="employeesCount" min="1" required>
                    </div>
                    <div class="form-group">
                        <label>–ì–æ–¥–æ–≤–æ–π –æ–±–æ—Ä–æ—Ç</label>
                        <input type="number" step="any" name="annualTurnover" min="0.01">
                    </div>
                </div>
                <div class="form-group">
                    <label>–¢–∏–ø *</label>
                    <select name="type" required>
                        <option value="PUBLIC">PUBLIC</option>
                        <option value="TRUST">TRUST</option>
                        <option value="PRIVATE_LIMITED_COMPANY">PRIVATE LIMITED COMPANY</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>–ê–¥—Ä–µ—Å (—É–ª–∏—Ü–∞) *</label>
                    <input type="text" name="street" required>
                </div>
                <button type="submit" class="btn btn-primary btn-large">‚úÖ –°–æ–∑–¥–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é</button>
            </form>
        </div>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
    <div id="manage-tab" class="tab-content">
        <div class="card">
            <h2>üîÄ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</h2>
            <form id="merge-form" onsubmit="mergeOrganizations(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label>ID –ø–µ—Ä–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ *</label>
                        <input type="number" name="id1" min="1" required>
                    </div>
                    <div class="form-group">
                        <label>ID –≤—Ç–æ—Ä–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ *</label>
                        <input type="number" name="id2" min="1" required>
                    </div>
                </div>
                <div class="form-group">
                    <label>–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ *</label>
                    <input type="text" name="newName" required>
                </div>
                <div class="form-group">
                    <label>–ù–æ–≤—ã–π –∞–¥—Ä–µ—Å *</label>
                    <input type="text" name="newAddress" required>
                </div>
                <button type="submit" class="btn btn-primary btn-large">üîÄ –û–±—ä–µ–¥–∏–Ω–∏—Ç—å</button>
            </form>
        </div>

        <div class="card">
            <h2>üë§ –ù–∞–Ω—è—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</h2>
            <form id="hire-form" onsubmit="hireEmployee(event)">
                <div class="form-group">
                    <label>ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ *</label>
                    <input type="number" name="id" min="1" required>
                </div>
                <button type="submit" class="btn btn-primary btn-large">üë§ –ù–∞–Ω—è—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞</button>
            </form>
        </div>

        <div class="card">
            <h2>üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏</h2>
            <form id="delete-form" onsubmit="deleteOrganization(event)">
                <div class="form-group">
                    <label>ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ *</label>
                    <input type="number" name="id" min="1" required>
                </div>
                <button type="submit" class="btn btn-danger btn-large">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ ID</button>
            </form>

            <form id="delete-fullname-form" onsubmit="deleteByFullName(event)" style="margin-top: 20px;">
                <div class="form-group">
                    <label>–ü–æ–ª–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ</label>
                    <input type="text" name="fullName" required>
                </div>
                <button type="submit" class="btn btn-danger btn-large">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø–æ –ø–æ–ª–Ω–æ–º—É –∏–º–µ–Ω–∏</button>
            </form>
        </div>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∞: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div id="stats-tab" class="tab-content">
        <div class="card">
            <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π</h2>
            <button class="btn btn-primary" onclick="loadStatistics()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
            <div id="statistics-content" style="margin-top: 20px;">
                <p class="text-muted">–ù–∞–∂–º–∏—Ç–µ "–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É" –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>
            </div>
        </div>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>